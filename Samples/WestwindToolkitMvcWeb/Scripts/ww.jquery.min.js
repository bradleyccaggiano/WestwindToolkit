var __dragIndex,_tmplCache,_monthNames,reISO,reMsAjax;(function(n,t){return HttpClient=function(t){var i=this;this.completed=null;this.errorHandler=null;this.errorMessage="";this.async=!0;this.evalResult=!1;this.contentType="application/x-www-form-urlencoded";this.accepts=null;this.method="GET";this.timeout=2e4;this.headers={};n.extend(i,t);this.appendHeader=function(n,t){i.headers[n]=t};this.send=function(t,r,u,f){u=u||i.completed;f=f||i.errorHandler;n.ajax({url:t,data:r,type:r?"POST":i.method,processData:!1,contentType:i.contentType,timeout:i.timeout,dataType:"text",global:!1,async:i.async,beforeSend:function(n){for(var t in i.headers)n.setRequestHeader(t,i.headers[t]);i.accepts&&n.setRequestHeader("Accept",i.accepts)},success:function(n){var t=null;if(i.evalResult)try{n=JSON.parseWithDate(n);n&&n.hasOwnProperty("d")&&(n=n.d)}catch(r){t=new CallbackException(r)}if(t||n&&(n.isCallbackError||n.iscallbackerror)){n&&(t=n);f&&f(t,i);return}u&&u(n,i)},error:function(n,t){var r=null,u;n.readyState==4&&(u=n.responseText,u&&u.charAt(0)=="{"&&(r=JSON.parseWithDate(u)),r||(r=n.status&&n.status!=200?new CallbackException(n.status+" "+n.statusText):new CallbackException("Callback Error: "+t),r.detail=u));r||(r=new CallbackException("Callback Error: "+t));f&&f(r,i,n)}})};this.returnError=function(n){var t=new CallbackException(n);i.errorHandler&&i.errorHandler(t,i)}},ServiceProxy=function(t){var i=this;this.isWcf=!0;this.timeout=2e4;this.method="POST";this.serviceUrl=t;typeof t=="object"&&n.extend(this,t);this.invoke=function(n,t,r,u){var f=null,e,o;i.method!="GET"&&(f=i.isWcf?JSON.stringifyWcf(t):JSON.stringify(t));e=i.serviceUrl+n;o=new HttpClient({contentType:"application/json",accepts:"application/json,text/*",method:i.method,evalResult:!0,timeout:i.timeout});o.send(e,f,r,u)}},AjaxMethodCallback=function(t,i,r){var u=this;this.controlId=t;this.postbackMode="PostMethodParametersOnly";this.serverUrl=i;this.formName=null;this.resultMode="json";this.timeout=2e4;this.completed=null;this.errorHandler=null;n.extend(this,r);this.Http=null;this.callMethod=function(t,i,r,f){var s,e,h,o,c;if(u.completed=r,u.errorHandler=f,s=new HttpClient({timeout:u.timeout,evalResult:!0,accepts:"application/json,text/*"}),u.Http=s,e={},u.resultMode=="msajax")e=JSON.stringifyWithDates(i);else{if(h=0,i.length)for(h=i.length,o=0;o<h;o++)e["Parm"+(o+1).toString()]=JSON.stringify(i[o]);n.extend(e,{CallbackMethod:t,CallbackParmCount:h,__WWEVENTCALLBACK:u.controlId});e=n.param(e)+"&"}if(c=u.formName||(document.forms.length>0?document.forms[0].id:""),u.postbackMode=="Post")e+=n("#"+c).serialize();else if(u.postbackMode=="PostNoViewstate")e+=n("#"+c).serializeNoViewState();else if(this.postbackMode=="Get")return Url=this.serverUrl,Url+=Url.indexOf("?")>-1?e:"?"+e,s.send(Url,null,u.onHttpCallback,u.onHttpCallback);return s.send(this.serverUrl,e,u.onHttpCallback,u.onHttpCallback)};this.onHttpCallback=function(n){if(n&&(n.isCallbackError||n.iscallbackerror)){u.errorHandler&&u.errorHandler(n,u);return}u.completed!=null&&u.completed(n,u)}},ajaxJson=function(t,i,r,u,f){var s=i,e={method:"POST",contentType:"application/json",accepts:"application/json",noPostEncoding:!1},o;n.extend(e,f);o=new HttpClient(e);o.evalResult=!0;e.noPostEncoding||e.method!="POST"||(s=JSON.stringify(i));o.send(t,s,r,u)},ajaxCallMethod=function(n,t,i,r,u,f){var e=new AjaxMethodCallback(null,n,f);e.callMethod(t,i,r,u)},n.postJSON=function(t,i,r,u,f){var e={method:"POST",evalResult:!0},o;n.extend(e,f);o=new HttpClient(e);typeof i=="object"&&(i=n.param(i));o.send(t,i,r,u)},n.fn.serializeObject=function(){var i={},r=this.serializeArray();return n.each(r,function(){i[this.name]!==t?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i},onPageError=function(n){showStatus(n.message||n.Message,6e3,!0)},CallbackException=function(n,t){this.isCallbackError=!0;typeof n=="object"?n.message?this.message=n.message:n.Message&&(this.message=n.Message):this.message=n;this.detail=t?t:null},StatusBar=function(t,i){var r=this,u=null;r.elementId="_showstatus";r.prependMultiline=!0;r.closable=!1;r.afterTimeoutText=null;r.autoClose=!1;r.noEffects=!1;r.effectSpeed=500;r.cssClass="statusbar";r.highlightClass="statusbarhighlight";r.closeButtonClass="statusbarclose";r.additive=!1;r.interval=0;t&&(u=n(t));i&&n.extend(this,i);u||(u=n("<div id='_statusbar' class='"+r.cssClass+"'><div class='"+r.closeButtonClass+"'>"+(r.closable?"<\/div><\/div>":"")).appendTo(document.body).hide());r.closeable&&n("."+r.cssClass).click(function(){r.hide()});this.show=function(t,i,f){var e,o;return t=="hide"?r.hide():(f===!0?u.addClass(r.highlightClass):u.removeClass(r.highlightClass),r.additive?(e=n("<div style='margin-bottom: 2px;'>"+t+"<\/div>"),r.prependMultiline?u.prepend(e):u.append(e)):r.closable?(o=u.find("div.statusbarclose"),u.text(t).prepend(o),o.click(r.hide)):u.text(t),u.is(":visible")||r.noEffects?u.show():u.slideDown(r.effectSpeed),u.maxZIndex(),i&&(r.interval!=0&&clearInterval(r.interval),r.interval=setTimeout(function(){r.interval=0;u.removeClass(r.highlightClass);r.afterTimeoutText?r.show(r.afterTimeoutText):r.autoClose&&r.hide()},i)),r)};this.hide=function(){return r.noEffects?u.hide():u.slideUp(r.effectSpeed),u.removeClass(r.highlightClass),r};this.release=function(){u&&n(u).remove()}},__statusbar=null,showStatus=function(n,t,i,r){if(typeof n=="object"){__statusbar&&__statusbar.release();__statusbar=new StatusBar(null,n);return}__statusbar||(__statusbar=new StatusBar);__statusbar.show(n,t,i,r)},n.fn.centerInClient=function(t){var i={forceAbsolute:!1,container:window,completed:null,centerOnceOnly:!1,keepCentered:!1};return n.extend(i,t),this.each(function(){var t=n(this),r,e,o;if(i.centerOnceOnly){if(t.data("_centerOnce"))return;t.data("_centerOnce",!0)}else t.data("_centerOnce",null);i.keepCentered&&(t.data("_keepCentered")||(t.data("_keepCentered",!0),n(window).resize(function(){t.is(":visible")&&setTimeout(function(){t.centerInClient(i)})})));r=n(i.container);e=i.container==window;i.forceAbsolute&&(e?t.remove().appendTo("body"):t.remove().appendTo(r[0]));t.css("position","absolute");var u=(e?r.width():r.outerWidth())/2-t.outerWidth()/2,f=(e?r.height():r.outerHeight())/2.2-t.outerHeight()/2;u=u+r.scrollLeft();f=f+r.scrollTop();f=f<5?5:f;u=u<5?5:u;t.css({left:u,top:f});o=t.css("zIndex");o&&o!="auto"||t.css("zIndex",1);i.completed&&i.completed(this)})},sumDimensions=function(n){for(var i=0,t=1;t<arguments.length;t++)i+=Math.max(parseInt(n.css(arguments[t]),10)||0,0);return i},n.fn.makeAbsolute=function(t){return this.each(function(){var i=n(this),u=!0,r;i.is(":visible")||(i.show(),u=!1);r=i.position();u||i.hide();i.css({position:"absolute",marginLeft:0,marginTop:0,top:r.top,left:r.left});t&&i.remove().appendTo("body")})},n.fn.slideUpTransition=function(t){return n.extend(t,{cssHiddenClass:"height-transition-hidden"}),this.each(function(){var i=n(this);i.css("max-height","0");i.addClass(t.cssHiddenClass)})},n.fn.slideDownTransition=function(t){return n.extend(t,{cssHiddenClass:"height-transition-hidden"}),this.each(function(){var i=n(this),r;i.removeClass(t.cssHiddenClass);i.css("max-height","none");r=i.outerHeight();i.css("max-height","0");setTimeout(function(){i.css({"max-height":r})},1)})},n.fn.stretchToBottom=function(t){var i={container:n(window),bottomOffset:0,autoResize:!1};return t&&t.length?i.container=t:n.extend(i,t),i.autoResize==!0&&($els=this,n(i.container).resize(function(){$els.stretchToBottom({container:i.container,autoResize:!1})})),this.each(function(){var e,t;$el=n(this);e=$el.css("position");$el.makeAbsolute();var r=i.container,u=n(window).innerHeight(),o=parseInt($el.css("top")),f=0;r[0]!=window?(t=sumDimensions(r,"borderTopWidth","borderBottomWidth","paddingBottom","paddingTop")+sumDimensions($el,"borderTopWidth","borderBottomWidth","marginBottom","marginTop","paddingBottom","paddingTop"),t=t?t:1,u=r.offset().top+r.outerHeight(),f=u-o-Math.ceil(t)-i.bottomOffset):(t=sumDimensions($el,"borderTopWidth","borderBottomWidth","marginBottom","marginTop"),f=u-o-Math.ceil(t)-i.bottomOffset);$el.css("position",e).css("height",f)})},n.fn.moveToMousePosition=function(t,i){var r={left:0,top:0};return n.extend(r,i),this.each(function(){var i=n(this);i.css({left:t.pageX+r.left,top:t.pageY+r.top,position:"absolute"})})},n.fn.shadow=function(t,i){typeof t=="object"&&(i=t);var r={offset:5,color:"#636363",opacity:.45,callback:null,zIndex:100};n.extend(r,i);this.each(function(){var i=n(this),f=this,c=i.get(0).id,u=n("#"+c+"Shadow"),e,o,l,s,h;if(typeof t=="string"){(t=="hide"||t=="remove")&&(typeof f.style.boxShadow=="string"?i.css("box-shadow",""):typeof f.style.MozBoxShadow=="string"?i.css("-moz-box-shadow",""):typeof f.style.WebkitBoxShadow=="string"?i.css("-webkit-box-shadow",""):(i.unwatch("_shadowMove"),u.remove()));return}if(u.length<1&&i.makeAbsolute(),typeof f.style.boxShadow=="string"){i.css("box-shadow",String.format("{0}px {0}px {0}px {1}",r.offset,r.color));return}if(typeof f.style.MozBoxShadow=="string"){i.css("-moz-box-shadow",String.format("{0}px {0}px {0}px {1}",r.offset,r.color));return}if(typeof f.style.WebkitBoxShadow=="string"){i.css("-webkit-box-shadow",String.format("{0}px {0}px {0}px {1}",r.offset,r.color));return}e=!0;u.length<1&&(u=n("<div>"),u.css({height:1,width:1}).attr("id",c+"Shadow").insertAfter(i),o=i.css("zIndex"),o&&o!="auto"||(i.css("zIndex",r.zIndex),u.css("zIndex",r.zIndex-1)),l=u.get(0),e=!1);s=i.is(":visible");s||i.show();h=i.position();u.show().css({position:"absolute",width:i.outerWidth(),height:i.outerHeight(),opacity:r.opacity,background:r.color,left:h.left+r.offset-4,top:h.top+r.offset-2});u.css("filter","progid:DXImageTransform.Microsoft.Blur(makeShadow=true, pixelradius=3, shadowOpacity="+r.opacity.toString()+")");s||(u.hide(),i.hide());zIndex=i.css("zIndex");zIndex&&zIndex!="auto"?u.css("zIndex",zIndex-1):(i.css("zIndex",r.zIndex),u.css("zIndex",r.zIndex-1));e||i.watch({properties:"left,top,width,height,display,opacity,zIndex"},function(){if(i.is(":visible")){var n=i.position();u.css({position:"absolute",opacity:i.css("opacity")*r.opacity,width:i.outerWidth(),height:i.outerHeight(),opacity:r.opacity,background:r.color,left:n.left+r.offset-4,top:n.top+r.offset-2})}else u.hide()},100,"_shadowMove")})(r.callback);r.callback(sh)},this});$.fn.tooltip=function(n,t,i){function u(n,t){var r=this,f=$(n),u,i;this.cssClass="";this.onRelease=null;$.extend(r,t);u=f.get(0);i=$("#"+u.id+"_tt");this.show=function(n,t,e){i.length>0&&i.remove();i=$("<div>").attr("id",u.id+"_tt");$(document.body).append(i);i.css({position:"absolute",display:"none",zIndex:1e3});r.cssClass?i.addClass(r.cssClass):i.css({background:"cornsilk",border:"solid 1px gray",fontSize:"8pt",padding:2,"border-radius":"2px","box-shadow":"1px 1px 1px #535353"});e?i.html(n):i.text(n);var s=f.position(),h=s.left+5,c=s.top+f.outerHeight()-1,o=i.width();o>400&&(o=400);i.css({left:h,top:c,width:o});i.show();t&&t>0&&setTimeout(function(){r.onRelease&&r.onRelease.call(u,r);r.hide()},t)};this.hide=function(){i.length>0&&i.fadeOut("slow",function(){i.shadow("hide")})}}var r={cssClass:"tooltip",isHtml:!1,shadowOffset:2,onRelease:null};return $.extend(r,i),this.each(function(){var i=new u(this,r);if(n=="hide"){i.hide();return}i.show(n,t,r.isHtml)})};$.fn.watch=function(n){function i(n,i,r){n.each(function(){var i=$(this),n;window.MutationObserver?(n=i.data("__watcherObserver"),n==null&&(n=new MutationObserver(r.fnc),i.data("__watcherObserver",n)),n.observe(this,{attributes:!0,subtree:t.watchChildren,childList:t.watchChildren,characterData:!0})):r.intervalId=setInterval(r.fnc,interval)})}function r(n,t,r){var e=$(this),u=e.data(n),c,h,f,s,o;if(u&&(c=this,u.func)){for(h=!1,f=0,f;f<u.props.length;f++)if((s=u.props[f],o="",o=s.startsWith("attr_")?e.attr(s.replace("attr_","")):e.css(s),o!=undefined)&&u.vals[f]!=o){u.vals[f]=o;h=!0;break}h&&(e.unwatch(n),u.func.call(c,u,f,t,r),i(e,n,u))}}var t=$.extend({properties:null,interval:100,id:"_watcher",watchChildren:!1,callback:null},n);return this.each(function(){var f=this,u=$(this),e=function(n,i){r.call(f,t.id,n,i)},n={id:t.id,props:t.properties.split(","),vals:[t.properties.split(",").length],func:t.callback,fnc:e,origProps:t.properties,interval:t.interval,intervalId:null};$.each(n.props,function(t){n.vals[t]=n.props[t].startsWith("attr_")?u.attr(n.props[t].replace("attr_","")):u.css(n.props[t])});u.data(t.id,n);i(u,t.id,n)})};$.fn.unwatch=function(n){return this.each(function(){var t=$(this),r=t.data(n),i;try{window.MutationObserver?(i=t.data("__watcherObserver"),i&&(i.disconnect(),t.removeData("__watcherObserver"))):clearInterval(r.intervalId)}catch(u){}}),this};$.fn.listSetData=function(n,t){var i={noClear:!1,dataValueField:null,dataTextField:null};return $.extend(i,t),this.each(function(){var r=$(this),u,t;if(n==null){r.children().remove();return}for(i.noClear||r.children().remove(),n.Rows?n=n.Rows:n.rows&&(n=n.rows),u=!1,i.dataTextField||i.dataValueField||(u=!0),x=0;x<n.length;x++)t=n[x],u?r.listAddItem(t,t):r.listAddItem(t[i.dataTextField],t[i.dataValueField])})};$.fn.listAddItem=function(n,t){return this.each(function(){$(this).append($("<option><\/option>").attr("value",t).text(n))})};$.fn.listSelectItem=function(n){var t,i;if(!(this.length<1)&&(t=this.get(0),t.options)){for(i=t.options.length-1;i>-1;i--)if(t.options[i].value==n){t.options[i].selected=!0;return}return this}};$.fn.listGetSelections=function(n){var r=this.find("option:selected"),t,i;if(n)return r.length>0?t.eq(0).val():null;for(t=[],i=0;i<r.length;i++)t.push(r.eq(i).val());return t};HoverPanel=function(n,t){var i=this,r=$(n),u=r.get(0);this.serverUrl="";this.timeout=2e4;this.controlId=u.id;this.htmlTargetId=u.id;this.queryString="";this.eventHandlerMode="ShowHtmlAtMousePosition";this.postbackMode="Get";this.completed=null;this.errorHandler=null;this.hoverOffsetRight=0;this.hoverOffsetBottom=0;this.panelOpacity=1;this.shadowOffset=0;this.shadowOpacity=.25;this.adjustWindowPosition=!0;this.formName="";this.navigateDelay=0;this.http=null;$.extend(i,t);this.startCallback=function(n,t,r,u){var e,f;try{if(e=(new Date).getTime(),i.busy=e,f=this.serverUrl,n?(i.lastMouseTop=n.clientY,i.lastMouseLeft=n.clientX):i.lastMouseTop=0,i.queryString=t==null?t="":t,u&&(i.errorHandler=u),t?t+="&":t="",t+="__WWEVENTCALLBACK="+i.controlId,i.formName=i.formName||document.forms[0],i.http=new HttpClient,i.timeout=i.timeout,i.http.appendHeader("RequestKey",e),r?r+="&":r="",i.postbackMode=="Post"?r+=$(i.formName).serialize():this.postbackMode=="PostNoViewstate"?r+=$(i.formName).serializeNoViewState():this.postbackMode=="Get"&&r&&(t+=r),t!=""&&(f=f.indexOf("?")>-1?f+"&"+t:f+"?"+t),i.eventHandlerMode=="ShowIFrameAtMousePosition"||i.eventHandlerMode=="ShowIFrameInPanel"){setTimeout(function(){i.busy&&i.showIFrame.call(i,f)},i.navigateDelay);return}setTimeout(function(){i.busy==e&&i.http.send.call(i,f,r,i.onHttpCallback,i.onHttpCallback)},i.navigateDelay)}catch(n){i.onHttpCallback(new CallbackException(n.message))}};this.onHttpCallback=function(n){if(i.busy=-1,i.http&&i.http.status&&i.http.status!=200&&(n=new CallbackException(http.statusText)),n==null&&(n=new CallbackException("No output was returned.")),n.isCallbackError){i.errorHandler&&i.errorHandler(n);return}i.displayResult(n)};this.displayResult=function(n){i.completed&&i.completed(n,i)==!1||(i.eventHandlerMode=="ShowHtmlAtMousePosition"?(i.assignContent(n),i.movePanelToPosition(i.lastMouseLeft+i.hoverOffsetRight,i.lastMouseTop+i.hoverOffsetBottom),i.show()):i.eventHandlerMode=="ShowHtmlInPanel"&&(i.assignContent(n),i.show()))};this.assignContent=function(n){$("#"+i.htmlTargetId).html(n)};this.movePanelToPosition=function(n,t){var u;try{if(r.css("position","absolute"),typeof n=="object"?(i.lastMouseTop=n.clientY,i.lastMouseLeft=n.clientX):typeof n=="number"&&(i.lastMouseTop=t,i.lastMouseLeft=n),n=i.lastMouseLeft+3,t=i.lastMouseTop+3,u=$(window),r.css({left:n+u.scrollLeft(),top:t+u.scrollTop()}),i.adjustWindowPosition&&document.body){var f=u.height(),e=r.outerHeight(),o=u.width(),s=r.outerWidth();f<e?t=0:f<i.lastMouseTop+e&&(t=f-e-10);o<s?n=0:o<i.lastMouseLeft+s&&(n=o-s-25);r.css({left:n+u.scrollLeft(),top:t+u.scrollTop()})}}catch(h){window.status="Moving of window failed: "+h.message}};this.showIFrame=function(n){i.busy=!1;n=n?n:i.serverUrl;$("#"+i.controlId+"_IFrame").attr("src",n).load(i.completed);i.show();i.eventHandlerMode=="ShowIFrameAtMousePosition"&&i.movePanelToPosition(i.lastMouseLeft+i.hoverOffsetRight,i.lastMouseTop+i.hoverOffsetBottom)};this.hide=function(){this.abort();r.hide()};this.abort=function(){i.busy=-1};this.show=function(){r.show().css("opacity",i.panelOpacity);i.shadowOffset&&r.shadow({offset:i.shadowOffset,opacity:i.shadowOpacity})}};_ModalDialog=function(n,t){var i=this,r=$(n),u;(r.length<1&&(r=$("#"+n)),r.length<1)||(this.overlayId="_ModalOverlay",this.contentId=r.get(0).id,this.headerId="",this.backgroundOpacity=.75,this.fadeInBackground=!1,this.zIndex=0,this.jOverlay=null,this.keepCentered=!0,this.dialogHandler=null,$.extend(i,t),u=null,this.show=function(n,t,u){var e,f;i.contentId&&typeof n=="string"&&(u?$("#"+i.contentId).html(n):$("#"+i.contentId).text(n));i.headerId&&typeof t=="string"&&(u?$("#"+i.headerId).html(t):$("#"+i.headerId).text(t));e=i.zIndex>0?i.zIndex:$.maxZIndex();r.css({zIndex:i.zIndex+2}).show().centerInClient();f=opaqueOverlay({zIndex:i.zIndex+1,sel:"#"+i.overlayId,opacity:i.backgroundOpacity});i.zIndex++;i.fadeInBackground&&f.hide().fadeIn("slow");r.click(i.callback);i.keepCentered&&$(window).bind("resize.modal",function(){r.centerInClient()}).bind("scroll.modal",function(){r.centerInClient()})},this.hide=function(){r.hide();i.keepCentered&&$(window).unbind("resize.modal").unbind("scroll.modal");opaqueOverlay("hide",{sel:"#"+i.overlayId});r.unbind("click");u&&(u.show(),u=null)},this.callback=function(n){if($(n.target).is(":button,a,.closebox")){if(i.dialogHandler){if(i.dialogHandler.call(n.target,n,i)==!1)return;setTimeout(function(){i.hide()},10);return}setTimeout(function(){i.hide()},10)}})};$.fn.modalDialog=function(n,t,i,r){if(this.length<1)return this;var e=this.get(0),f=$(e),o="modal"+e.id,u=f.data(o);return(u||(u=new _ModalDialog(f,n)),typeof n=="string")?((n=="hide"||n=="close")&&u.hide(),n=="instance"||n=="get")?u:void 0:(u.show(t,i,r),f.data(o,u),this)};$.modalDialog=function(n,t,i,r,u){var f=$("#_MBOX"),s,h,o,e,c;if(f.length<1){for(f=$("<div>").addClass("dialog dragwindow").attr("id","_MBOX").css({width:400}),s=$("<div>").addClass("dialog-header").attr("id","_MBOXHEADER"),h=$("<div>").addClass("dialog-content").attr("id","_MBOXCONTENT"),f.append(s).append(h),o=$("<div>").css("margin","0px 15px 15px"),i||(i=[" Close "]),e=0;e<i.length;e++)c=$("<input type='button' />").attr("id","_BTN_"+e).css("margin-right","5px").val(i[e]),o.append(c);f.append(o).appendTo(document.body)}r||(r=function(){return this.id.substr(0,5)=="_BTN_"||$(this).hasClass("closebox")?!0:!1});f.modalDialog({dialogHandler:r,headerId:"_MBOXHEADER",contentId:"_MBOXCONTENT"},n,t,u).draggable({handle:$("#_MBOX .dialog-header")}).shadow().closable({closeHandler:function(){var n=!0;r&&(n=r.call(this));n&&$("#_MBOX").modalDialog("hide")}})};opaqueOverlay=function(n,t){var f=this,r=$(window),i,u;if(this.sel="#_ShadowOverlay",this.opacity=.75,this.zIndex=1e4,$.extend(this,t||n),i=$(sel),n=="hide"){if(i.length<1)return;i.hide();i.get(0).opaqueOverlay=!1;r.unbind("resize.opaque").unbind("scroll.opaque");return}return i.length<1&&(i=$("<div>").attr("id",this.sel.substr(1)).css("background","black").appendTo(document.body)),u=i.get(0),i.show(),u.opaqueOverlay||r.bind("resize.opaque",function(){opaqueOverlay(n)}).bind("scroll.opaque",function(){opaqueOverlay(n)}),u.opaqueOverlay=!0,i.css({top:0+r.scrollTop(),left:0+r.scrollLeft(),position:"absolute",opacity:f.opacity,zIndex:f.zIndex}).width(r.width()).height(r.height()),i};$.fn.draggable||($.fn.draggable=function(n){return this.each(function(){var i=$(this),t=i.data("draggable");if(typeof n=="string"){t&&n=="remove"&&(t.stopDragging(),i.removeData("draggable"));return}t||(t=new DragBehavior(this,n),i.data("draggable",t))})},__dragIndex=1,DragBehavior=function(n,t){var i=this,r=$(n),f;this.handle="";this.opacity=.75;this.start=null;this.stop=null;this.dragDelay=100;this.forceAbsolute=!1;$.extend(i,t);i.handle=i.handle?$(i.handle,r):r;i.handle.length<1&&(i.handle=r);var u=!1,e=!1,o=0,s=0,h=1,c=0;this.mouseDown=function(n){var f=i.handle.get(0),h=!1,t;($(n.target).parents().each(function(){this==f&&(h=!0)}),u||n.target!=f&&!h||$(n.target).is(".closebox,input,textara,a"))||(u=!0,e=!1,t=i.handle.offset(),o=n.pageX-t.left,s=n.pageY-t.top,setTimeout(function(){u&&(r.show().makeAbsolute(i.forceAbsolute),i.dragActivate(n))},i.dragDelay))};f=function(n){n.stopPropagation();n.preventDefault()};this.dragActivate=function(n){u&&(e=!0,i.moveToMouse(n),u=!0,c=r.css("zIndex"),r.css("zIndex",15e4),h=r.css("opacity"),r.css({opacity:i.opacity,cursor:"move"}),$(document).bind("mousemove.dbh",i.mouseMove),$(document).bind("selectstart.dbh",f),$(document).bind("dragstart.dbh",f),$(document.body).bind("dragstart.dbh",f),$(document.body).bind("selectstart.dbh",f),i.handle.bind("selectstart.dbh",f),i.start&&i.start(n,i))};this.dragDeactivate=function(n,t){u&&(u=!1,e)&&(e=!1,t||i.moveToMouse(n),$(document).unbind("mousemove.dbh"),$(document).unbind("selectstart.dbh"),$(document).unbind("dragstart.dbh"),$(document.body).unbind("dragstart.dbh"),$(document.body).unbind("selectstart.dbh"),i.handle.unbind("selectstart.dbh"),t||(__dragIndex+=10,r.css({zIndex:1e4+__dragIndex,cursor:"auto"}),r.css("opacity",h),i.stop&&i.stop(n,i)))};this.mouseUp=function(n){i.dragDeactivate(n)};this.mouseMove=function(n){u&&i.moveToMouse(n)};this.moveToMouse=function(n){r.css({left:n.pageX-o,top:n.pageY-s})};this.stopDragging=function(){e&&(i.dragDeactivate(null,!0),$(document).unbind("mousedown",i.mouseDown))};$(document).mousedown(i.mouseDown);$(document).mouseup(i.mouseUp)});$.fn.closable=function(n){var t={handle:null,closeHandler:null,cssClass:"closebox",imageUrl:null,fadeOut:null};return $.extend(t,n),this.each(function(){var n=$(this),r=n.css("position");r&&r!="static"||n.css("position","relative");var f=t.handle?$(t.handle,n).css({position:"relative"}):n,i=n.find("."+t.cssClass),u=!0;i.length<1&&(i=t.imageUrl?$("<img />").attr("src",t.imageUrl).css("cursor","pointer"):$("<div><\/div>"),i.addClass(t.cssClass),u=!1);i.click(function(i){(!t.closeHandler||t.closeHandler.call(this,i))&&(t.fadeOut?$(n).fadeOut(t.fadeOut):$(n).hide())});t.imageUrl&&i.css("background-image","none");u||f.append(i)})};$.fn.contentEditable=function(n){if(!(this.length<1)){var i="0px",t={editClass:null,saveText:"Save",saveHandler:null};return $.extend(t,n),this.each(function(){var n=$(this),r,u;return this.contentEditable=="true"?this:(r=$("<input type='button' value='"+t.saveText+"' class='editablebutton' style='display: block;'/>"),u=function(){t.editClass?n.removeClass(t.editClass):n.css({background:"transparent",padding:i});n.get(0).contentEditable=!1;r.remove()},r.click(function(i){t.saveHandler.call(n.get(0),i)&&u()}),n.keypress(function(n){n.keyCode==27&&u()}),n.after(r).css("margin",2),this.contentEditable=!0,t.editClass?n.addClass(t.editClass):(i=n.css("padding"),n.css({background:"lavender",padding:10})),this)}),this}};$.fn.editable=function(n){if(this.length<1)return this;var t={editClass:null,saveText:"Save",editMode:"text",saveHandler:null,value:null};return $.extend(t,n),this.each(function(){var i=$(this),u,r;return n=="cleanup"?(i.data("cleanupEditor")(),this):i.data("editing")?this:(u=$("<input type='button' />").addClass("editablebutton").css({display:"block"}).val(t.saveText),r=$("<textarea id='_contenteditor'><\/textarea>").css({fontFamily:i.css("font-family"),minHeight:"18px"}),t.value?r.val(t.value):r.val(t.editMode=="text"?i.text():jContext.html()),t.editClass?r.addClass(t.editClass):r.width(i.width()-10).height(i.height()),r.focus().hide().fadeIn("slow").data("editing",i.get(0)).insertBefore(i).keypress(function(n){n.keyCode==27&&cleanupEditor()}),i.data("editing",!0).hide(),i.data("cleanupEditor",function(){r.remove();u.remove();i.data("editing",!1).data("cleanupEditor",null).fadeIn("slow")}),u.click(function(){var n={text:r.val(),cleanup:i.data("cleanupEditor"),button:u,edit:r,content:i};t.saveHandler.call(r.get(0),n)&&cleanupEditor()}),r.after(u).css("margin",2),this)}),this};$.maxZIndex=$.fn.maxZIndex=function(n){var i={inc:10,group:"*"},t;return($.extend(i,n),t=0,$(i.group).each(function(){var n=parseInt($(this).css("z-index"));t=n>t?n:t}),!this.jquery)?t:this.each(function(){t+=i.inc;$(this).css("z-index",t)})};_tmplCache={};parseTemplate=function(n,t){var r="",i,u;try{return i=_tmplCache[n],i||(u="var p=[];with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<#=(.+?)#>/g,"',$1,'").split("<#").join("');").split("#>").join("p.push('")+"');}return p.join('');",i=new Function("obj",u),_tmplCache[n]=i),i(t)}catch(f){r=f.message}return"< # ERROR: "+r.htmlEncode()+" # >"};isElementInViewport=function(n){var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};$$=function(n,t){var i=$("#"+n,t);return i.length<1&&(i=$("[id$=_"+n+"],[id*="+n+"_]",t)),i};String.prototype.htmlEncode=function(){var n=document.createElement("div");return typeof n.textContent=="string"?n.textContent=this.toString():n.innerText=this.toString(),n.innerHTML};String.prototype.trimEnd=function(n){return n?this.replace(new RegExp(n.escapeRegExp()+"*$"),""):this.replace(/\s+$/,"")};String.prototype.trimStart=function(n){return n?this.replace(new RegExp("^"+n.escapeRegExp()+"*"),""):this.replace(/^\s+/,"")};String.prototype.repeat=function(n,t){for(var i="",r=0;r<t;r++)i+=n;return i};String.prototype.padL=function(n,t){if(!n||n<1)return this;t||(t=" ");var i=n-this.length;return i<1?this.substr(0,n):(String.repeat(t,i)+this).substr(0,n)};String.prototype.padR=function(n,t){if(!n||n<1)return this;t||(t=" ");var i=n-this.length;return i<1&&this.substr(0,n),(this+String.repeat(t,i)).substr(0,n)};String.prototype.startsWith=function(n){return this.length==0?!1:n==this.substr(0,n.length)};String.prototype.extract=function(n,t,i,r){var f=this,o,u,e;return f.length==0?"":(o=f.toLowerCase(),n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase(),u=o.indexOf(n),u==-1)?"":(e=o.indexOf(t,u+1),!i&&e==-1)?"":i&&e==-1?r?f.substr(u):f.substr(u+n.length):r?f.substr(u,e-u+t.length):f.substr(u+n.length,e-u-1)};String.prototype.escapeRegExp=function(){return this.replace(/[.*+?^${}()|[\]\/\\]/g,"\\$0")};String.format=function(n){for(var t=0;t<arguments.length;t++)n=n.replace(new RegExp("\\{"+t.toString()+"\\}","g"),arguments[t+1]);return n};String.prototype.format=function(){var n=[this];return $.merge(n,arguments),String.format.apply(this,n)};String.prototype.isNumber=function(){return this.length==0?!1:"0123456789".indexOf(this.charAt(0))>-1?!0:!1};_monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.prototype.formatDate=function(n){var i=this,r,u,t;return n||(n="MM/dd/yyyy"),r=i.getMonth(),u=i.getFullYear(),n.indexOf("yyyy")>-1?n=n.replace("yyyy",u.toString()):n.indexOf("yy")>-1&&(n=n.replace("yy",u.toString().substr(2,2))),n=n.replace("dd",i.getDate().toString().padL(2,"0")),t=i.getHours(),n.indexOf("t")>-1&&(n=t>11?n.replace("t","pm"):n.replace("t","am")),n.indexOf("HH")>-1&&(n=n.replace("HH",t.toString().padL(2,"0"))),n.indexOf("hh")>-1&&(t>12&&(t-=12),t==0&&(t=12),n=n.replace("hh",t.toString().padL(2,"0"))),n.indexOf("mm")>-1&&(n=n.replace("mm",i.getMinutes().toString().padL(2,"0"))),n.indexOf("ss")>-1&&(n=n.replace("ss",i.getSeconds().toString().padL(2,"0"))),n.indexOf("MMMM")>-1?n.replace("MMMM",_monthNames[r]):n.indexOf("MMM")>-1?n.replace("MMM",_monthNames[r].substr(0,3)):n.replace("MM",(r+1).toString().padL(2,"0"))};Number.prototype.formatNumber=function(n,t){var i=this,u=Number.getNumberFormat(),f,s,r,c;if(n=="c")return i=Math.round(i*100)/100,t=t||"$",i=i.toLocaleString(),f=i.split("."),s=f.length>1?f[1]:"",t+f[0]+u.d+s.padR(2,"0");if(n.charAt(0)=="n"){if(n.length==1||(r=n.substr(1),r=parseInt(r),typeof r!="number"))return i.toLocaleString();i=i.toFixed(r);for(var o=i.split(u.d),e=o[0],l=o.length>1?u.d+o[1]:"",h=/(\d+)(\d{3})/;h.test(e);)e=e.replace(h,"$1"+u.c+"$2");return e+l}return n.charAt(0)=="f"?n.length==1?i.toString():(c=n.substr(1),c=parseFloat(r),typeof r!="number")?i.toString():i.toFixed(r):i.toString()};Number.getNumberFormat=function(n){var i=1000.1.toLocaleString(),t={};return t.d=i.charAt(5),t.d.isNumber()&&(t.d=i.charAt(4)),t.c=i.charAt(1),t.c.isNumber()&&(t.c=","),t.s=n||"$",t};registerNamespace=function(n){for(var i,u=n.split("."),t=window,r=0;r<u.length;r++)i=u[r],t=t[i]?t[i]:t[i]={}};getUrlEncodedKey=function(n,t){t||(t=window.location.search);var r=new RegExp("[?|&]"+n+"=(.*?)&"),i=r.exec(t+"&");return!i||i.length<2?"":decodeURIComponent(i[1].replace("+"," "))};setUrlEncodedKey=function(n,t,i){i=i||window.location.search;var r=i+"&",u=new RegExp("[?|&]"+n+"=.*?&");return u.test(r)?r=r.replace(u,"&"+n+"="+encodeURIComponent(t)+"&"):r+=n+"="+encodeURI(t),r=r.trimStart("&").trimEnd("&"),r.charAt(0)=="?"?r:r="?"+r};$.fn.serializeNoViewState=function(){return this.find("input,textarea,select,hidden").not("#__VIEWSTATE,#__EVENTVALIDATION").serialize()};this.assert||(this.assert=function(n,t){n||(t||(t=""),alert("Assert failed\r\n"+(t?t:"")+"\r\n"+(arguments.callee.caller?"in "+arguments.callee.caller.toString():"")))});$.expr[":"].containsNoCase=function(n,t,i){var r=i[3];return r?new RegExp(r,"i").test($(n).text()):!1};$.fn.searchFilter=function(n){var t=$.extend({targetSelector:"",charCount:1},n);return this.each(function(){var n=$(this);n.keyup(function(){var n=$(this).val(),i=$(t.targetSelector);i.show();n&&n.length>=t.charCount&&i.not(":containsNoCase("+n+")").hide()})})};this.JSON||(this.JSON={}),function(){function i(n){return n<10?"0"+n:n}function o(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var c,l,s,a,v=n,h,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i));typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,h=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,c=0;c<a;c+=1)h[c]=u(c,e)||"null";return s=h.length===0?"[]":n?"[\n"+n+h.join(",\n"+n)+"\n"+v+"]":"["+h.join(",")+"]",n=v,s}if(t&&typeof t=="object")for(a=t.length,c=0;c<a;c+=1)l=t[c],typeof l=="string"&&(s=u(l,e),s&&h.push(o(l)+(n?": ":":")+s));else for(l in e)Object.hasOwnProperty.call(e,l)&&(s=u(l,e),s&&h.push(o(l)+(n?": ":":")+s));return s=h.length===0?"{}":n?"{\n"+n+h.join(",\n"+n)+"\n"+v+"}":"{"+h.join(",")+"}",n=v,s}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return u("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(n,t){var r,u,i=n[t];if(i&&typeof i=="object")for(r in i)Object.hasOwnProperty.call(i,r)&&(u=walk(i,r),u!==undefined?i[r]=u:delete i[r]);return reviver.call(n,t,i)}var j;if(f.lastIndex=0,f.test(text)&&(text=text.replace(f,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}();this.JSON&&!this.JSON.dateParser&&(reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.{0,1}\d*))(?:Z|(\+|-)([\d|:]*))?$/,reMsAjax=/^\/Date\((d|-|.*)\)[\/|\\]$/,JSON.parseMsAjaxDate=!1,JSON.useDateParser=function(n){typeof n!="undefined"?JSON._parseSaved&&(JSON.parse=JSON._parseSaved,JSON._parseSaved=null):JSON.parseSaved||(JSON._parseSaved=JSON.parse,JSON.parse=JSON.parseWithDate)},JSON.dateParser=function(n,t){var i,r;if(typeof t=="string"){if(i=reISO.exec(t),i)return new Date(t);if(!JSON.parseMsAjaxDate)return t;if(i=reMsAjax.exec(t),i)return r=i[1].split(/[-+,.]/),new Date(r[0]?+r[0]:0-+r[1])}return t},JSON.parseWithDate=function(n){var t=JSON._parseSaved?JSON._parseSaved:JSON.parse;try{return t(n,JSON.dateParser)}catch(i){throw new Error("JSON content could not be parsed");}},JSON.dateStringToDate=function(n,t){var i,r;return(t||(t=null),!n)?t:n.getTime?n:((n[0]==='"'||n[0]==="'")&&(n=n.substr(1,n.length-2)),i=reISO.exec(n),i)?new Date(n):JSON.parseMsAjaxDate?(i=reMsAjax.exec(n),i)?(r=i[1].split(/[-,.]/),new Date(+r[0])):t:t});jQuery;